{"code":"import { __awaiter } from \"tslib\";\r\nimport { Element } from \"../element\";\r\nimport { Directive } from \"../directive\";\r\nimport { DirectiveManager } from \"../directivemanager\";\r\nimport { ModuleFactory } from \"../modulefactory\";\r\nimport { Router } from \"../router\";\r\nimport { Util } from \"../util\";\r\nimport { Expression } from \"../expression\";\r\nimport { Filter } from \"../filter\";\r\nimport { Renderer } from \"../renderer\";\r\nimport { NError } from \"../error\";\r\nimport { NEvent } from \"../event\";\r\nimport { NodomMessage } from \"../nodom\";\r\nexport default (function () {\r\n    /**\r\n     *  指令类型初始化\r\n     *  每个指令类型都有一个init和handle方法，init和handle都可选\r\n     *  init 方法在编译时执行，包含两个参数 directive(指令)、dom(虚拟dom)，无返回\r\n     *  handle方法在渲染时执行，包含四个参数 directive(指令)、dom(虚拟dom)、module(模块)、parent(父虚拟dom)\r\n     */\r\n    /**\r\n     * module 指令\r\n     * 用于指定该元素为模块容器，表示该模块的子模块\r\n     * 用法\r\n     *   x-module='moduleclass|modulename|dataurl'\r\n     *   moduleclass 为模块类名\r\n     *   modulename  为模块对象名，可选\r\n     * 可增加 data 属性，用于指定数据url\r\n     * 可增加 name 属性，用于设置模块name，如果x-module已设置，则无效\r\n     */\r\n    DirectiveManager.addType('module', 0, (directive, dom) => {\r\n        let value = directive.value;\r\n        let valueArr = value.split('|');\r\n        directive.value = valueArr[0];\r\n        //设置dom role\r\n        dom.setProp('role', 'module');\r\n        //设置module name\r\n        if (valueArr.length > 1) {\r\n            dom.setProp('modulename', valueArr[1]);\r\n        }\r\n        directive.extra = {};\r\n    }, (directive, dom, module, parent) => __awaiter(this, void 0, void 0, function* () {\r\n        const ext = directive.extra;\r\n        let needNew = ext.moduleId === undefined;\r\n        let subMdl;\r\n        //没有moduleId或与容器key不一致，需要初始化模块\r\n        if (ext && ext.moduleId) {\r\n            subMdl = ModuleFactory.get(ext.moduleId);\r\n            needNew = subMdl.getContainerKey() !== dom.key;\r\n        }\r\n        if (needNew) {\r\n            let m = yield ModuleFactory.getInstance(directive.value, dom.getProp('modulename'), dom.getProp('data'));\r\n            if (m) {\r\n                //保存绑定moduleid\r\n                m.setContainerKey(dom.key);\r\n                //修改virtualdom的module指令附加参数moduleId\r\n                let dom1 = module.getElement(dom.key, true);\r\n                if (dom1) {\r\n                    let dir = dom1.getDirective('module');\r\n                    dir.extra.moduleId = m.id;\r\n                }\r\n                module.addChild(m.id);\r\n                yield m.active();\r\n            }\r\n        }\r\n        else if (subMdl && subMdl.state !== 3) {\r\n            yield subMdl.active();\r\n        }\r\n    }));\r\n    /**\r\n     *  model指令\r\n     */\r\n    DirectiveManager.addType('model', 1, (directive, dom) => {\r\n        let value = directive.value;\r\n        //处理以.分割的字段，没有就是一个\r\n        if (Util.isString(value)) {\r\n            //从根数据获取\r\n            if (value.startsWith('$$')) {\r\n                directive.extra = 1;\r\n                value = value.substr(2);\r\n            }\r\n            directive.value = value;\r\n        }\r\n    }, (directive, dom, module, parent) => {\r\n        let startIndex = 0;\r\n        let model = dom.model;\r\n        //从根获取数据,$$开始数据项\r\n        if (directive.extra === 1) {\r\n            model = module.model;\r\n            startIndex = 1;\r\n        }\r\n        model = model[directive.value];\r\n        if (model) {\r\n            dom.model = model;\r\n        }\r\n    });\r\n    /**\r\n     * 指令名 repeat\r\n     * 描述：重复指令\r\n     */\r\n    DirectiveManager.addType('repeat', 2, (directive, dom) => {\r\n        let value = directive.value;\r\n        if (!value) {\r\n            throw new NError(\"paramException\", \"x-repeat\");\r\n        }\r\n        let modelName;\r\n        let fa = value.split('|');\r\n        modelName = fa[0];\r\n        //有过滤器\r\n        if (fa.length > 1) {\r\n            directive.filters = [];\r\n            for (let i = 1; i < fa.length; i++) {\r\n                directive.filters.push(new Filter(fa[i]));\r\n            }\r\n        }\r\n        //模块全局数据\r\n        if (modelName.startsWith('$$')) {\r\n            modelName = modelName.substr(2);\r\n        }\r\n        directive.value = modelName;\r\n    }, (directive, dom, module, parent) => {\r\n        let model = dom.model;\r\n        //可能数据不存在，先设置dontrender\r\n        dom.dontRender = true;\r\n        //得到rows数组的model\r\n        let rows = model[directive.value];\r\n        // 无数据，不渲染\r\n        if (!Util.isArray(rows) || rows.length === 0) {\r\n            return;\r\n        }\r\n        dom.dontRender = false;\r\n        //有过滤器，处理数据集合\r\n        if (directive.filters && directive.filters.length > 0) {\r\n            for (let f of directive.filters) {\r\n                rows = f.exec(rows, module);\r\n            }\r\n        }\r\n        let chds = [];\r\n        let key = dom.key;\r\n        // 移除指令\r\n        dom.removeDirectives(['repeat']);\r\n        for (let i = 0; i < rows.length; i++) {\r\n            let node = dom.clone();\r\n            //设置modelId\r\n            node.model = rows[i];\r\n            //设置key\r\n            setKey(node, key, i);\r\n            rows[i].$index = i;\r\n            chds.push(node);\r\n        }\r\n        //找到并追加到dom后\r\n        if (chds.length > 0) {\r\n            for (let i = 0, len = parent.children.length; i < len; i++) {\r\n                if (parent.children[i] === dom) {\r\n                    chds = [i + 1, 0].concat(chds);\r\n                    Array.prototype.splice.apply(parent.children, chds);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // 不渲染该节点\r\n        dom.dontRender = true;\r\n        function setKey(node, key, id) {\r\n            node.key = key + '_' + id;\r\n            node.children.forEach((dom) => {\r\n                setKey(dom, dom.key, id);\r\n            });\r\n        }\r\n    });\r\n    /**\r\n     * 指令名 if\r\n     * 描述：条件指令\r\n     */\r\n    DirectiveManager.addType('if', 10, (directive, dom) => {\r\n        if (typeof directive.value === 'string') {\r\n            let value = directive.value;\r\n            if (!value) {\r\n                throw new NError(\"paramException\", \"x-repeat\");\r\n            }\r\n            //value为一个表达式\r\n            let expr = new Expression(value);\r\n            directive.value = expr;\r\n        }\r\n    }, (directive, dom, module, parent) => {\r\n        //设置forceRender\r\n        let model = dom.model;\r\n        let v = directive.value.val(model);\r\n        //找到并存储if和else在父对象中的位置\r\n        let indif = -1, indelse = -1;\r\n        for (let i = 0; i < parent.children.length; i++) {\r\n            if (parent.children[i] === dom) {\r\n                indif = i;\r\n            }\r\n            else if (indelse === -1 && parent.children[i].hasDirective('else')) {\r\n                indelse = i;\r\n            }\r\n            //if后的第一个element带else才算，否则不算\r\n            if (i !== indif && indif !== -1 && indelse === -1 && parent.children[i].tagName !== undefined) {\r\n                indelse = -2;\r\n            }\r\n            //都找到了\r\n            if (indif !== -1 && indelse !== -1) {\r\n                break;\r\n            }\r\n        }\r\n        if (v && v !== 'false') { //为真\r\n            let ind = 0;\r\n            //删除else\r\n            if (indelse > 0) {\r\n                parent.children[indelse].dontRender = true;\r\n            }\r\n        }\r\n        else {\r\n            //替换if\r\n            dom.dontRender = true;\r\n            //为假则进入else渲染\r\n            if (indelse > 0) {\r\n                parent.children[indelse].dontRender = false;\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * 指令名 else\r\n     * 描述：else指令\r\n     */\r\n    DirectiveManager.addType('else', 10, (directive) => {\r\n        return;\r\n    }, (directive, dom, module, parent) => {\r\n        return;\r\n    });\r\n    /**\r\n     * 指令名 show\r\n     * 描述：显示指令\r\n     */\r\n    DirectiveManager.addType('show', 10, (directive, dom) => {\r\n        if (typeof directive.value === 'string') {\r\n            let value = directive.value;\r\n            if (!value) {\r\n                throw new NError(\"paramException\", \"x-show\");\r\n            }\r\n            let expr = new Expression(value);\r\n            directive.value = expr;\r\n        }\r\n    }, (directive, dom, module, parent) => {\r\n        let model = dom.model;\r\n        let v = directive.value.val(model);\r\n        //渲染\r\n        if (v && v !== 'false') {\r\n            dom.dontRender = false;\r\n        }\r\n        else { //不渲染\r\n            dom.dontRender = true;\r\n        }\r\n    });\r\n    /**\r\n     * 指令名 class\r\n     * 描述：class指令\r\n     */\r\n    DirectiveManager.addType('class', 10, (directive, dom) => {\r\n        if (typeof directive.value === 'string') {\r\n            //转换为json数据\r\n            let obj = eval('(' + directive.value + ')');\r\n            if (!Util.isObject(obj)) {\r\n                return;\r\n            }\r\n            let robj = {};\r\n            Util.getOwnProps(obj).forEach(function (key) {\r\n                if (Util.isString(obj[key])) {\r\n                    //如果是字符串，转换为表达式\r\n                    robj[key] = new Expression(obj[key]);\r\n                }\r\n                else {\r\n                    robj[key] = obj[key];\r\n                }\r\n            });\r\n            directive.value = robj;\r\n        }\r\n    }, (directive, dom, module, parent) => {\r\n        let obj = directive.value;\r\n        let clsArr = [];\r\n        let cls = dom.getProp('class');\r\n        let model = dom.model;\r\n        if (Util.isString(cls) && !Util.isEmpty(cls)) {\r\n            clsArr = cls.trim().split(/\\s+/);\r\n        }\r\n        Util.getOwnProps(obj).forEach(function (key) {\r\n            let r = obj[key];\r\n            if (r instanceof Expression) {\r\n                r = r.val(model);\r\n            }\r\n            let ind = clsArr.indexOf(key);\r\n            if (!r || r === 'false') {\r\n                //移除class\r\n                if (ind !== -1) {\r\n                    clsArr.splice(ind, 1);\r\n                }\r\n            }\r\n            else if (ind === -1) { //添加class\r\n                clsArr.push(key);\r\n            }\r\n        });\r\n        //刷新dom的class\r\n        dom.setProp('class', clsArr.join(' '));\r\n    });\r\n    /**\r\n     * 指令名 field\r\n     * 描述：字段指令\r\n     */\r\n    DirectiveManager.addType('field', 10, (directive, dom) => {\r\n        dom.setProp('name', directive.value);\r\n        //默认text\r\n        let type = dom.getProp('type') || 'text';\r\n        let eventName = dom.tagName === 'input' && ['text', 'checkbox', 'radio'].includes(type) ? 'input' : 'change';\r\n        //增加value表达式\r\n        if (!dom.hasProp('value') && ['text', 'number', 'date', 'datetime', 'datetime-local', 'month', 'week', 'time', 'email', 'password', 'search', 'tel', 'url', 'color', 'radio'].includes(type)\r\n            || dom.tagName === 'TEXTAREA') {\r\n            dom.setProp('value', new Expression(directive.value), true);\r\n        }\r\n        dom.addEvent(new NEvent(eventName, function (dom, model, module, e, el) {\r\n            if (!el) {\r\n                return;\r\n            }\r\n            let type = dom.getProp('type');\r\n            let field = dom.getDirective('field').value;\r\n            let v = el.value;\r\n            //根据选中状态设置checkbox的value\r\n            if (type === 'checkbox') {\r\n                if (dom.getProp('yes-value') == v) {\r\n                    v = dom.getProp('no-value');\r\n                }\r\n                else {\r\n                    v = dom.getProp('yes-value');\r\n                }\r\n            }\r\n            else if (type === 'radio') {\r\n                if (!el.checked) {\r\n                    v = undefined;\r\n                }\r\n            }\r\n            //修改字段值\r\n            model.set(field, v);\r\n            //修改value值，该节点不重新渲染\r\n            if (type !== 'radio') {\r\n                dom.setProp('value', v);\r\n                el.value = v;\r\n            }\r\n        }));\r\n    }, (directive, dom, module, parent) => {\r\n        const type = dom.getProp('type');\r\n        const tgname = dom.tagName.toLowerCase();\r\n        const model = dom.model;\r\n        let dataValue = model[directive.value];\r\n        //变为字符串\r\n        if (dataValue !== undefined && dataValue !== null) {\r\n            dataValue += '';\r\n        }\r\n        let value = dom.getProp('value');\r\n        if (type === 'radio') {\r\n            if (dataValue + '' === value) {\r\n                dom.assets.set('checked', true);\r\n                dom.setProp('checked', 'checked');\r\n            }\r\n            else {\r\n                dom.assets.set('checked', false);\r\n                dom.delProp('checked');\r\n            }\r\n        }\r\n        else if (type === 'checkbox') {\r\n            //设置状态和value\r\n            let yv = dom.getProp('yes-value');\r\n            //当前值为yes-value\r\n            if (dataValue + '' === yv) {\r\n                dom.setProp('value', yv);\r\n                dom.assets.set('checked', true);\r\n            }\r\n            else { //当前值为no-value\r\n                dom.setProp('value', dom.getProp('no-value'));\r\n                dom.assets.set('checked', false);\r\n            }\r\n        }\r\n        else if (tgname === 'select') { //下拉框\r\n            if (!directive.extra || !directive.extra.inited) {\r\n                setTimeout(() => {\r\n                    directive.extra = { inited: true };\r\n                    dom.setProp('value', dataValue);\r\n                    dom.setAsset('value', dataValue);\r\n                    Renderer.add(module);\r\n                }, 0);\r\n            }\r\n            else {\r\n                if (dataValue !== value) {\r\n                    dom.setProp('value', dataValue);\r\n                    dom.setAsset('value', dataValue);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            dom.assets.set('value', dataValue === undefined || dataValue === null ? '' : dataValue);\r\n        }\r\n    });\r\n    /**\r\n     * 指令名 validity\r\n     * 描述：字段指令\r\n     */\r\n    DirectiveManager.addType('validity', 10, (directive, dom) => {\r\n        let ind, fn, method;\r\n        let value = directive.value;\r\n        //处理带自定义校验方法\r\n        if ((ind = value.indexOf('|')) !== -1) {\r\n            fn = value.substr(0, ind);\r\n            method = value.substr(ind + 1);\r\n        }\r\n        else {\r\n            fn = value;\r\n        }\r\n        directive.extra = { initEvent: false };\r\n        directive.value = fn;\r\n        directive.params = {\r\n            enabled: false //不可用\r\n        };\r\n        //如果有方法，则需要存储\r\n        if (method) {\r\n            directive.params.method = method;\r\n        }\r\n        //如果没有子节点，添加一个，需要延迟执行\r\n        if (dom.children.length === 0) {\r\n            let vd1 = new Element();\r\n            vd1.textContent = '';\r\n            dom.add(vd1);\r\n        }\r\n        else { //子节点\r\n            dom.children.forEach((item) => {\r\n                if (item.children.length === 0) {\r\n                    let vd1 = new Element();\r\n                    vd1.textContent = '   ';\r\n                    item.add(vd1);\r\n                }\r\n            });\r\n        }\r\n    }, (directive, dom, module, parent) => {\r\n        setTimeout(() => {\r\n            const el = module.getNode({ name: directive.value });\r\n            if (!directive.extra.initEvent) {\r\n                directive.extra.initEvent = true;\r\n                //添加focus和blur事件\r\n                el.addEventListener('focus', function () {\r\n                    setTimeout(() => { directive.params.enabled = true; }, 0);\r\n                });\r\n                el.addEventListener('blur', function () {\r\n                    Renderer.add(module);\r\n                });\r\n            }\r\n        }, 0);\r\n        //未获取focus，不需要校验\r\n        if (!directive.params.enabled) {\r\n            dom.dontRender = true;\r\n            return;\r\n        }\r\n        const el = module.getNode({ name: directive.value });\r\n        if (!el) {\r\n            return;\r\n        }\r\n        let chds = [];\r\n        //找到带rel的节点\r\n        dom.children.forEach((item) => {\r\n            if (item.tagName !== undefined && item.hasProp('rel')) {\r\n                chds.push(item);\r\n            }\r\n        });\r\n        let resultArr = [];\r\n        //自定义方法校验\r\n        if (directive.params.method) {\r\n            const foo = module.getMethod(directive.params.method);\r\n            if (Util.isFunction(foo)) {\r\n                let r = foo.call(module.model, el.value);\r\n                if (!r) {\r\n                    resultArr.push('custom');\r\n                }\r\n            }\r\n        }\r\n        let vld = el.validity;\r\n        if (!vld.valid) {\r\n            // 查找校验异常属性\r\n            for (var o in vld) {\r\n                if (vld[o] === true) {\r\n                    resultArr.push(o);\r\n                }\r\n            }\r\n        }\r\n        if (resultArr.length > 0) {\r\n            //转换成ref对应值\r\n            let vn = handle(resultArr);\r\n            //单个校验\r\n            if (chds.length === 0) {\r\n                setTip(dom, vn, el);\r\n            }\r\n            else { //多个校验\r\n                for (let i = 0; i < chds.length; i++) {\r\n                    let rel = chds[i].getProp('rel');\r\n                    if (rel === vn) {\r\n                        setTip(chds[i], vn, el);\r\n                    }\r\n                    else { //隐藏\r\n                        chds[i].dontRender = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            dom.dontRender = true;\r\n        }\r\n        /**\r\n         * 设置提示\r\n         * @param vd    虚拟dom节点\r\n         * @param vn    验证结果名\r\n         * @param el    验证html element\r\n         */\r\n        function setTip(vd, vn, el) {\r\n            //子节点不存在，添加一个\r\n            let text = vd.children[0].textContent.trim();\r\n            if (text === '') { //没有提示内容，根据类型提示\r\n                text = Util.compileStr(NodomMessage.FormMsgs[vn], el.getAttribute(vn));\r\n            }\r\n            vd.children[0].textContent = text;\r\n        }\r\n        /**\r\n         * 验证名转换\r\n         */\r\n        function handle(arr) {\r\n            for (var i = 0; i < arr.length; i++) {\r\n                switch (arr[i]) {\r\n                    case 'valueMissing':\r\n                        return 'required';\r\n                    case 'typeMismatch':\r\n                        return 'type';\r\n                    case 'tooLong':\r\n                        return 'maxLength';\r\n                    case 'tooShort':\r\n                        return 'minLength';\r\n                    case 'rangeUnderflow':\r\n                        return 'min';\r\n                    case 'rangeOverflow':\r\n                        return 'max';\r\n                    case 'patternMismatch':\r\n                        return 'pattern';\r\n                    default:\r\n                        return arr[i];\r\n                }\r\n            }\r\n        }\r\n    });\r\n    /**\r\n     * 增加route指令\r\n     */\r\n    DirectiveManager.addType('route', 10, (directive, dom) => {\r\n        let value = directive.value;\r\n        if (Util.isEmpty(value)) {\r\n            return;\r\n        }\r\n        //a标签需要设置href\r\n        if (dom.tagName === 'A') {\r\n            dom.setProp('href', 'javascript:void(0)');\r\n        }\r\n        // 表达式处理\r\n        if (typeof value === 'string' && /^\\{\\{.+\\}\\}$/.test(value)) {\r\n            value = new Expression(value.substring(2, value.length - 2));\r\n        }\r\n        //表达式，则需要设置为exprProp\r\n        if (value instanceof Expression) {\r\n            dom.setProp('path', value, true);\r\n            directive.value = value;\r\n        }\r\n        else {\r\n            dom.setProp('path', value);\r\n        }\r\n        //处理active 属性\r\n        if (dom.hasProp('activename')) {\r\n            let an = dom.getProp('activename');\r\n            dom.setProp('active', new Expression(an), true);\r\n            if (dom.hasProp('activeclass')) {\r\n                new Directive('class', \"{\" + dom.getProp('activeclass') + \":'\" + an + \"'}\", dom);\r\n            }\r\n        }\r\n        //添加click事件\r\n        dom.addEvent(new NEvent('click', (dom, model, module, e) => {\r\n            let path = dom.getProp('path');\r\n            if (Util.isEmpty(path)) {\r\n                return;\r\n            }\r\n            Router.go(path);\r\n        }));\r\n    }, (directive, dom, module, parent) => {\r\n        let path = dom.getProp('path');\r\n        //添加到router的activeDomMap\r\n        let domArr = Router.activeDomMap.get(module.id);\r\n        if (!domArr) {\r\n            Router.activeDomMap.set(module.id, [dom.key]);\r\n        }\r\n        else {\r\n            if (!domArr.includes(dom.key)) {\r\n                domArr.push(dom.key);\r\n            }\r\n        }\r\n        if (!path || path === Router.currentPath) {\r\n            return;\r\n        }\r\n        //active需要跳转路由（当前路由为该路径对应的父路由）\r\n        if (dom.hasProp('active') && dom.getProp('active') && (!Router.currentPath || path.indexOf(Router.currentPath) === 0)) {\r\n            //可能router尚未渲染出来\r\n            setTimeout(() => { Router.go(path); }, 0);\r\n        }\r\n    });\r\n    /**\r\n     * 增加router指令\r\n     */\r\n    DirectiveManager.addType('router', 10, (directive, dom) => {\r\n        //修改节点role\r\n        dom.setProp('role', 'module');\r\n    }, (directive, dom, module, parent) => {\r\n        Router.routerKeyMap.set(module.id, dom.key);\r\n    });\r\n    /**\r\n     * 增加ignore指令\r\n     * 只渲染子节点到dom树\r\n     */\r\n    DirectiveManager.addType('ignoreself', 10, (directive, dom) => {\r\n        dom.dontRenderSelf = true;\r\n    }, (directive, dom, module, parent) => {\r\n    });\r\n}());\r\n//# sourceMappingURL=directiveinit.js.map","references":["D:/graduate/project/nodom2.1/nodom2.1/core/module.ts","D:/graduate/project/nodom2.1/nodom2.1/core/element.ts","D:/graduate/project/nodom2.1/nodom2.1/core/directive.ts","D:/graduate/project/nodom2.1/nodom2.1/core/directivemanager.ts","D:/graduate/project/nodom2.1/nodom2.1/core/modulefactory.ts","D:/graduate/project/nodom2.1/nodom2.1/core/router.ts","D:/graduate/project/nodom2.1/nodom2.1/core/util.ts","D:/graduate/project/nodom2.1/nodom2.1/core/expression.ts","D:/graduate/project/nodom2.1/nodom2.1/core/filter.ts","D:/graduate/project/nodom2.1/nodom2.1/core/model.ts","D:/graduate/project/nodom2.1/nodom2.1/core/renderer.ts","D:/graduate/project/nodom2.1/nodom2.1/core/error.ts","D:/graduate/project/nodom2.1/nodom2.1/core/event.ts","D:/graduate/project/nodom2.1/nodom2.1/core/nodom.ts"],"map":"{\"version\":3,\"file\":\"directiveinit.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../core/extend/directiveinit.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"D:/graduate/project/nodom2.1/nodom2.1/node_modules/.cache/rollup-plugin-typescript2/placeholder/core/extend/directiveinit.d.ts","writeByteOrderMark":false,"text":"declare const _default: void;\r\nexport default _default;\r\n"}}
