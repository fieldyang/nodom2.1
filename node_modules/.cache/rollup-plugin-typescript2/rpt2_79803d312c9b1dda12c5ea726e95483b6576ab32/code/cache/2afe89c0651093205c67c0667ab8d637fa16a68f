{"code":"import { ModuleFactory } from \"./modulefactory\";\r\n/**\r\n * 渲染器\r\n */\r\nexport class Renderer {\r\n    /**\r\n     * 添加到渲染列表\r\n     * @param module 模块\r\n     */\r\n    static add(module) {\r\n        //非激活状态\r\n        if (module.state !== 3) {\r\n            return;\r\n        }\r\n        //如果已经在列表中，不再添加\r\n        if (!this.waitList.includes(module.id)) {\r\n            //计算优先级\r\n            this.waitList.push(module.id);\r\n        }\r\n    }\r\n    //从列表移除\r\n    static remove(module) {\r\n        let ind;\r\n        if ((ind = this.waitList.indexOf(module.id)) !== -1) {\r\n            this.waitList.splice(ind, 1);\r\n        }\r\n    }\r\n    /**\r\n     * 队列渲染\r\n     */\r\n    static render() {\r\n        //调用队列渲染\r\n        for (let i = 0; i < this.waitList.length; i++) {\r\n            let m = ModuleFactory.get(this.waitList[i]);\r\n            //渲染成功，从队列移除\r\n            if (!m || m.render()) {\r\n                this.waitList.shift();\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * 等待渲染列表（模块名）\r\n */\r\nRenderer.waitList = [];\r\n//# sourceMappingURL=renderer.js.map","references":["D:/graduate/project/nodom2.1/nodom2.1/core/module.ts","D:/graduate/project/nodom2.1/nodom2.1/core/modulefactory.ts"],"map":"{\"version\":3,\"file\":\"renderer.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../core/renderer.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,aAAa,EAAE,MAAM,iBAAiB,CAAC;AAEhD;;GAEG;AACH,MAAM,OAAO,QAAQ;IAKjB;;;OAGG;IACI,MAAM,CAAC,GAAG,CAAC,MAAa;QAC3B,OAAO;QACP,IAAI,MAAM,CAAC,KAAK,KAAK,CAAC,EAAE;YACpB,OAAO;SACV;QAED,eAAe;QACf,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;YACpC,OAAO;YACP,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SACjC;IACL,CAAC;IACD,OAAO;IACA,MAAM,CAAC,MAAM,CAAC,MAAa;QAC9B,IAAI,GAAG,CAAC;QACR,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;YACjD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;SAChC;IACL,CAAC;IAED;;OAEG;IACI,MAAM,CAAC,MAAM;QAChB,QAAQ;QACR,KAAK,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvC,IAAI,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YAE5C,YAAY;YACZ,IAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAC;gBAChB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;gBACtB,CAAC,EAAE,CAAC;aACP;SACJ;IACL,CAAC;;AA1CD;;GAEG;AACY,iBAAQ,GAAqB,EAAE,CAAC\"}","dts":{"name":"D:/graduate/project/nodom2.1/nodom2.1/node_modules/.cache/rollup-plugin-typescript2/placeholder/core/renderer.d.ts","writeByteOrderMark":false,"text":"import { Module } from \"./module\";\r\n/**\r\n * 渲染器\r\n */\r\nexport declare class Renderer {\r\n    /**\r\n     * 等待渲染列表（模块名）\r\n     */\r\n    private static waitList;\r\n    /**\r\n     * 添加到渲染列表\r\n     * @param module 模块\r\n     */\r\n    static add(module: Module): void;\r\n    static remove(module: Module): void;\r\n    /**\r\n     * 队列渲染\r\n     */\r\n    static render(): void;\r\n}\r\n"}}
